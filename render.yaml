services:
  # Main bot service
  - type: web
    name: telegram-translator-bot
    runtime: python3
    buildCommand: pip install -r requirements.txt
    startCommand: python start.py
    plan: free
    healthCheckPath: /health
    envVars:
      - key: PYTHON_VERSION
        value: 3.11.0
      - key: MODE
        value: polling
      - key: LOG_LEVEL
        value: INFO
      - key: TRANSLATOR_PROVIDER
        value: MYMEMORY
      - key: DEFAULT_CHANNEL_LANGS
        value: en
      - key: DEFAULT_USER_LANG
        value: en
      - key: RATE_LIMIT_REQUESTS
        value: 5
      - key: RATE_LIMIT_WINDOW
        value: 15
      - key: MAX_TEXT_LENGTH
        value: 4096
      - key: MAX_COMMENT_LENGTH
        value: 3500
      - key: USE_SENTRY
        value: false
      # These will be set in Render dashboard:
      # BOT_TOKEN (from Render environment variables)
      # DATABASE_URL (auto-generated by PostgreSQL service)

  # PostgreSQL database
  - type: pserv
    name: telegram-translator-db
    plan: free
    # Database will be automatically linked to the web service
